"use strict";(self.webpackChunkopenedv_wiki=self.webpackChunkopenedv_wiki||[]).push([[89374],{10336:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/6.3.2.1-8fd49c0033b6fc7b9ec59a47a94c5673.png"},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var t=n(96540);const d={},r=t.createContext(d);function i(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),t.createElement(r.Provider,{value:s},e.children)}},44200:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>x,contentTitle:()=>i,default:()=>a,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var t=n(74848),d=n(28453);const r={title:"6.3 Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",sidebar_position:4},i="6.3 Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",c={id:"Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6/6.3",title:"6.3 Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",description:"6.3.1 \u7f16\u8bd1TF-A",source:"@site/docs/Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6/6.3.md",sourceDirName:"Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6",slug:"/Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6/6.3",permalink:"/docs/Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6/6.3",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"6.3 Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",sidebar_position:4},sidebar:"LinuxSTM32MP157Sidebar",previous:{title:"6.2 \u5b89\u88c5\u542b\u7f16\u8bd1Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",permalink:"/docs/Boards/Linux/STM32MP157/STM32MP157 \u5feb\u901f\u4f53\u9a8c\u624b\u518c/6/6.2"},next:{title:"STM32MP157&Mini \u786c\u4ef6\u53c2\u8003\u624b\u518c",permalink:"/docs/category/stm32mp157mini-\u786c\u4ef6\u53c2\u8003\u624b\u518c-2"}},x={},l=[{value:"6.3.1 \u7f16\u8bd1TF-A",id:"631-\u7f16\u8bd1tf-a",level:2},{value:"6.3.2 \u7f16\u8bd1U-Boot",id:"632-\u7f16\u8bd1u-boot",level:2},{value:"6.3.3 \u7f16\u8bd1\u5185\u6838",id:"633-\u7f16\u8bd1\u5185\u6838",level:2},{value:"\u9644\u5f55A",id:"\u9644\u5f55a",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"63-qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe",children:"6.3 Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe"})}),"\n",(0,t.jsx)(s.h2,{id:"631-\u7f16\u8bd1tf-a",children:"6.3.1 \u7f16\u8bd1TF-A"}),"\n",(0,t.jsxs)(s.p,{children:["\u2003\u2003\u5c06",(0,t.jsx)(s.code,{children:"\u5f00\u53d1\u677f\u5149\u76d8->1\u3001\u7a0b\u5e8f\u6e90\u7801\uf0e01\u3001\u6b63\u70b9\u539f\u5b50 Linux \u51fa\u5382\u7cfb\u7edf\u6e90\u7801->tf-a-stm32mp-2.2.r1-gxxxxxxx-vx.x.tar.bz2"}),"\uff08x \u4ee3\u8868\u672a\u7248\u672c\uff0c\u53ef\u80fd\u4e3a.xz \u683c\u5f0f\u6216\u8005.bz2 \u683c\u5f0f\uff09TF-A\u6e90\u7801\u62f7\u8d1d\u5230ubuntu\u7684\u5bb6\u76ee\u5f55\u4e0b\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u53bb\u7f16\u8bd1TF-A(",(0,t.jsx)(s.code,{children:"\u8981\u786e\u4fdd\u5b89\u88c5\u4e86Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe"}),")\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"mkdir mp157/tf-a -p\ntar -axvf tf-a-stm32mp-2.2.r1-g212d381-v1.4.tar.bz2 -C mp157/tf-a/\ncd mp157/tf-a/tf-a-stm32mp-2.2.r1/\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u4f7f\u7528ls\u547d\u4ee4\u53ef\u4ee5\u67e5\u770bTF-A\u7684\u6e90\u7801\u76ee\u5f55\u6587\u4ef6\u3002\u5728TF-A\u7684\u6e90\u7801\u91cc\u5199\u4e86\u4e00\u4e2a\u811a\u672c\uff0c\u811a\u672c\u91cc\u5df2\u7ecf\u6709\u7f16\u8bd1\u547d\u4ee4\u3002\u53ef\u4ee5\u76f4\u63a5\u6267\u884cbuild.sh\u6587\u4ef6\uff0c\u5373\u53ef\u7f16\u8bd1TF-A\u6e90\u7801\u3002\u7f16\u8bd1\u597d\u7684TF-A\u6587\u4ef6\u662ftf-a-stm32mp157d-atk-trusted.stm32\uff0c\u8fd0\u884c\u547d\u4ee4\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"./build.sh //\u5f00\u59cb\u7f16\u8bd1TF-A\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u7f16\u8bd1\u6210\u529f\u4f1a\u6709\u5982\u4e0b\u6253\u5370\u4fe1\u606f\uff1a"}),"\n",(0,t.jsx)("center",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.img,{src:n(55856).A+"",width:"1028",height:"222"}),(0,t.jsx)("br",{}),"\n\u56fe6.3.1 \u7f16\u8bd1TF-A\u7684\u6253\u5370\u4fe1\u606f"]})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u7f16\u8bd1\u6210\u529f\u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u7684\u201c../build/trusted\u201d\u76ee\u5f55\u4e0b\u751f\u6210stm32mp157d-atk-trusted.stm32\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,t.jsx)("center",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.img,{src:n(66260).A+"",width:"1499",height:"134"}),(0,t.jsx)("br",{}),"\n\u56fe6.3.1.2 \u67e5\u770bstm32mp157d-atk-trusted.stm32\u6587\u4ef6\u751f\u6210"]})}),"\n",(0,t.jsx)(s.h2,{id:"632-\u7f16\u8bd1u-boot",children:"6.3.2 \u7f16\u8bd1U-Boot"}),"\n",(0,t.jsxs)(s.p,{children:["\u2003\u2003\u5c06",(0,t.jsx)(s.code,{children:"\u5f00\u53d1\u677f\u5149\u76d8->1\u3001\u7a0b\u5e8f\u6e90\u7801->1\u3001\u6b63\u70b9\u539f\u5b50 Linux \u51fa\u5382\u7cfb\u7edf\u6e90\u7801-> u-boot-stm32mp-2020.01-gxxxxxxx-vxx.tar.bz2"}),"\uff08x \u4ee3\u8868\u672a\u7248\u672c\uff0c\u53ef\u80fd\u4e3a.xz \u683c\u5f0f\u6216\u8005.bz2 \u683c\u5f0f\uff09\u628aUBOOT\u6e90\u7801\u62f7\u8d1d\u5230ubuntu\u7684\u5bb6\u76ee\u5f55\u91cc\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u53bb\u7f16\u8bd1UBOOT(\u8981\u786e\u4fdd\u5b89\u88c5\u4e86Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe)\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"mkdir mp157/uboot -p\ntar -axvf u-boot-stm32mp-2020.01-g00f14581-v1.4.tar.bz2 -C mp157/uboot/\ncd mp157/uboot/\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u4f7f\u7528ls\u547d\u4ee4\u53ef\u4ee5\u67e5\u770bUBOOT\u7684\u6e90\u7801\u76ee\u5f55\u6587\u4ef6\u3002\u5728UBOOT\u7684\u6e90\u7801\u91cc\u5199\u4e86\u4e00\u4e2a\u811a\u672c\uff0c\u811a\u672c\u91cc\u5df2\u7ecf\u6709\u7f16\u8bd1\u547d\u4ee4\u3002\u53ef\u4ee5\u76f4\u63a5\u6267\u884cbuild.sh\u6587\u4ef6\uff0c\u5373\u53ef\u7f16\u8bd1UBOOT\u6e90\u7801\u3002\u7f16\u8bd1\u597d\u7684UBOOT\u6587\u4ef6\u662fu-boot.stm32\uff0c\u8fd0\u884c\u547d\u4ee4\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"./build.sh //\u5f00\u59cb\u7f16\u8bd1uboot\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u7f16\u8bd1\u6210\u529f\u4f1a\u6709\u5982\u4e0b\u6253\u5370\u4fe1\u606f\uff1a"}),"\n",(0,t.jsx)("center",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.img,{src:n(10336).A+"",width:"633",height:"200"}),(0,t.jsx)("br",{}),"\n\u56fe6.3.2.1 uboot\u7f16\u8bd1\u7684\u6253\u5370\u4fe1\u606f"]})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u7f16\u8bd1\u6210\u529f\u5728\u6e90\u7801\u76ee\u5f55\u4e0b\u751f\u6210u-boot.stm32\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,t.jsx)("center",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.img,{src:n(88667).A+"",width:"1359",height:"119"}),(0,t.jsx)("br",{}),"\n\u56fe6.3.2.2 \u67e5\u770bu-boot.stm32\u6587\u4ef6"]})}),"\n",(0,t.jsx)(s.h2,{id:"633-\u7f16\u8bd1\u5185\u6838",children:"6.3.3 \u7f16\u8bd1\u5185\u6838"}),"\n",(0,t.jsxs)(s.p,{children:["\u2003\u2003\u5c06",(0,t.jsx)(s.code,{children:"\u5f00\u53d1\u677f\u5149\u76d8->1\u3001\u7a0b\u5e8f\u6e90\u7801->1\u3001\u6b63\u70b9\u539f\u5b50 Linux \u51fa\u5382\u7cfb\u7edf\u6e90\u7801-> linux-5.4.31-gxxxxxxxx-vxx.tar.bz2"}),"\uff08x \u4ee3\u8868\u672a\u7248\u672c\uff0c\u53ef\u80fd\u4e3a.xz \u683c\u5f0f\u6216\u8005.bz2 \u683c\u5f0f\uff09\u628a\u5185\u6838\u6e90\u7801\u62f7\u8d1d\u5230ubuntu\u7684\u5bb6\u76ee\u5f55\u91cc\uff0c\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u53bb\u7f16\u8bd1\u5185\u6838(\u8981\u786e\u4fdd\u5b89\u88c5\u4e86Qt\u5e94\u7528\u7a0b\u5e8f\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe)\uff1a"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"mkdir mp157/kernel\ntar -axvf linux-5.4.31-gdf7f741ec-v1.5.tar.bz2 -C mp157/kernel/\ncd mp157/kernel/\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u4f7f\u7528ls\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5185\u6838\u7684\u6e90\u7801\u76ee\u5f55\u6587\u4ef6\u3002\u5728\u5185\u6838\u7684\u6e90\u7801\u91cc\u5199\u4e86\u4e00\u4e2a\u811a\u672c\uff0c\u811a\u672c\u91cc\u5df2\u7ecf\u6709\u7f16\u8bd1\u547d\u4ee4\u3002\u53ef\u4ee5\u76f4\u63a5\u6267\u884cbuild.sh\u6587\u4ef6\uff0c\u5373\u53ef\u7f16\u8bd1\u5185\u6838\u6e90\u7801\u3002\u8fd0\u884c\u547d\u4ee4\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-c#",children:"./build.sh //\u5f00\u59cb\u7f16\u8bd1\u5185\u6838\u6e90\u7801\uff0c\u540c\u65f6\u7f16\u8bd1uImage\u3001\u8bbe\u5907\u6811\u548c\u6a21\u5757\n"})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u7f16\u8bd1\u5b8c\u6210\uff0c\u53ca\u67e5\u770b tmp \u76ee\u5f55\u4e0b\u7684\u7f16\u8bd1\u76ee\u6807\u6587\u4ef6\uff0c\u5982\u4e0b\u56fe\uff0c\u5305\u542b\u5f88\u591a dtb \u6587\u4ef6\uff08\u8bbe\u5907\u6811\uff09\uff0c\u53ca Linux \u5185\u6838 uImage\uff0c\u8fd8\u6709 modules.tar.bz2\uff08\u5185\u6838\u6a21\u5757\uff09,\u5982\u4e0b\u56fe\u6240\u793a\uff1a"}),"\n",(0,t.jsx)("center",{children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.img,{src:n(47629).A+"",width:"1141",height:"182"}),(0,t.jsx)("br",{}),"\n\u56fe6.3.3.1 \u67e5\u770b\u7f16\u8bd1\u751f\u6210\u540e\u7684\u6587\u4ef6"]})}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u81f3\u6b64\uff0c\u5feb\u901f\u4f53\u9a8c\u6587\u6863\u5df2\u7ecf\u7ed3\u675f\uff0c\u5e0c\u671b\u5bf9\u5927\u5bb6\u6709\u6240\u5e2e\u52a9\uff01"}),"\n",(0,t.jsx)(s.h2,{id:"\u9644\u5f55a",children:"\u9644\u5f55A"}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003STM32MP1\u6e90\u7801\u66f4\u65b0\u8868\u683c\u8bf4\u660e\uff1a"}),"\n",(0,t.jsx)(s.p,{children:"\u2003\u2003\u51fa\u5382\u5185\u6838\u5386\u53f2\u7248\u672c"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"\u7248\u672c"}),(0,t.jsx)(s.th,{children:"Linux\u7684Git\u7248\u672c"}),(0,t.jsx)(s.th,{children:"\u5386\u53f2\u8bb0\u5f55"}),(0,t.jsx)(s.th,{children:"\u65e5\u671f"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.0"}),(0,t.jsx)(s.td,{children:"fc6a805bb"}),(0,t.jsx)(s.td,{children:"\u65e0"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.0"}),(0,t.jsx)(s.td,{children:"b559c33a3"}),(0,t.jsx)(s.td,{children:"1.\u6dfb\u52a0\u4e864G\u6a21\u5757ME3630"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.0"}),(0,t.jsx)(s.td,{children:"f08d654e1"}),(0,t.jsx)(s.td,{children:"1.\u5b9e\u73b0CPU\u52a8\u6001\u8c03\u9891"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.0"}),(0,t.jsx)(s.td,{children:"8ec8da074"}),(0,t.jsx)(s.td,{children:"1.\u6dfb\u52a0\u4e86SPDIF\u7684\u8bbe\u5907\u6811"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.1"}),(0,t.jsx)(s.td,{children:"265df13e0"}),(0,t.jsx)(s.td,{children:"1.\u4fee\u590d\u4e86\u80cc\u5149PWM\u529f\u80fd"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.2"}),(0,t.jsx)(s.td,{children:"cadb9cbd0"}),(0,t.jsx)(s.td,{children:"1.\u6dfb\u52a0\u4e86\u9f20\u6807mice\u8bbe\u5907\u30022.\u6dfb\u52a06.4.3\u7684GPU\u9a71\u52a8\u30023.\u6dfb\u52a0NFS-SERVER\u7684\u652f\u6301\u30024.\u4fee\u6539\u4e86\u89e6\u6478\u652f\u6301wayland\uff0c\u5220\u9664tslib\u30025.\u89e3\u51b3\u89e6\u6478\u4e0a\u4f20\u683c\u5f0f\u3002"}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"V1.3"}),(0,t.jsx)(s.td,{children:"dd2b8a693"}),(0,t.jsx)(s.td,{children:"1.\u7981\u7528SUB OTG\u7684\u7535\u6e90\u7ba1\u7406\u30022.\u6dfb\u52a0fusb302\u9a71\u52a8\uff0c\u517c\u5bb9\u65e7\u7684OTG\u9a71\u52a8\u30023.\u4fee\u590dSPIDF\u7684USB OTG\u30024.\u5220\u9664\u4e86Uboot\u9009\u62e9\u89e6\u6478IC\u3002"}),(0,t.jsx)(s.td,{})]})]})]})]})}function a(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},47629:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/6.3.3.1-b291777179b936e5a19bf52a1f5e0528.png"},55856:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/6.3.1-6a5d81965137e40b97313b7cf02263b3.png"},66260:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/6.3.1.2-894d7049f5a1431ef2444a6934a42d39.png"},88667:(e,s,n)=>{n.d(s,{A:()=>t});const t=n.p+"assets/images/6.3.2.2-8108e2b100d2da5608361cf47a0b759f.png"}}]);