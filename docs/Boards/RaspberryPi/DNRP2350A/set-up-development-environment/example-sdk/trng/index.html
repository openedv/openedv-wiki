<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">TRNG随机数实验 | 正点原子在线文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.alientek.com/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wiki.alientek.com/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://wiki.alientek.com/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="TRNG随机数实验 | 正点原子在线文档"><meta data-rh="true" name="description" content="前言"><meta data-rh="true" property="og:description" content="前言"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://wiki.alientek.com/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng"><link data-rh="true" rel="alternate" href="https://wiki.alientek.com/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://wiki.alientek.com/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.befeb1dc.css">
<script src="/assets/js/runtime~main.84cfdfb8.js" defer="defer"></script>
<script src="/assets/js/main.f4c1d837.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">ALIENTEK</b></a><a href="http://www.alientek.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">官网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="http://www.openedv.com/forum.php" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">论坛<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/Boards/RaspberryPi/DNRP2350A/TOC">目录</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/入门指南-11">入门指南</a><button aria-label="展开侧边栏分类 &#x27;入门指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/sdk使用指南-3">SDK使用指南</a><button aria-label="折叠侧边栏分类 &#x27;SDK使用指 南&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/dnrp2350am-sdk-dev">VSCode环境部署与新建工程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/ch32-driver">CH343 驱动安装</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/category/sdk基础实验-3">SDK基础实验</a><button aria-label="折叠侧边栏分类 &#x27;SDK基础实验&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/led">LED灯实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/key">按键输入实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/exit">外部中断实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/uart">串口实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/pio">PIO实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/timg">定时器实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/wdt">看门狗实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/pwm">PWM实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/dma">DMA实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/adc">ADC实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/internal_temperature">内部温度传感器实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/lcd">SPI-LCD实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/rtc">RTC实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/trng">TRNG随机数实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/sd_card">SPI_SDCARD实验</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/usb">USB虚拟串口实验</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/micropython使用指南-6">MicroPython使用指南</a><button aria-label="展开侧边栏分类 &#x27;MicroPython使用指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/sdk使用指南-3"><span itemprop="name">SDK使用指南</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/sdk基础实验-3"><span itemprop="name">SDK基础实验</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">TRNG随机数实验</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>TRNG随机数实验</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="前言">前言<a href="#前言" class="hash-link" aria-label="前言的直接链接" title="前言的直接链接">​</a></h2>
<p>本章，我们将介绍RP2350A的硬件随机数发生器。我们使用KEY1按键来获取硬件随机数，并且将获取到的随机数值显示在LCD上面。同时，使用LED指示程序运行状态。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="随机数发生器简介">随机数发生器简介<a href="#随机数发生器简介" class="hash-link" aria-label="随机数发生器简介的直接链接" title="随机数发生器简介的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1trng-简介">1，TRNG 简介<a href="#1trng-简介" class="hash-link" aria-label="1，TRNG 简介的直接链接" title="1，TRNG 简介的直接链接">​</a></h3>
<p>RP2350A 的 TRNG 模块基于环形振荡器（ROSC）的相位抖动生成真随机数，符合 FIPS 140-2 安全标准。其核心特性包括：</p>
<ol>
<li>熵源：利用环形振荡器的固有相位噪声作为随机数种子。</li>
<li>输出：32 位随机数，通过硬件加密算法增强随机性。</li>
<li>安全特性：支持硬件自检（HMAC 验证）和故障检测。</li>
<li>低功耗：支持休眠模式下持续生成随机数。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="硬件设计">硬件设计<a href="#硬件设计" class="hash-link" aria-label="硬件设计的直接链接" title="硬件设计的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="例程功能">例程功能<a href="#例程功能" class="hash-link" aria-label="例程功能的直接链接" title="例程功能的直接链接">​</a></h3>
<ol>
<li>实验使用 RP2350A 自带的硬件随机数生成器（TRNG），获取随机数，并显示在 LCD 屏幕上。按KEY1按键可以获取一次随机数。同时程序自动获取 0~9范围内的随机数，显示在屏幕上。LED闪烁用于提示程序正在  运行。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="硬件资源">硬件资源<a href="#硬件资源" class="hash-link" aria-label="硬件资源的直接链接" title="硬件资源的直接链接">​</a></h3>
<ol>
<li>LED:
LED-GPIO3</li>
<li>按键:
KEY1-GPIO2</li>
<li>正点原子1.14寸SPI LCD模块</li>
<li>TRNG</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="原理图">原理图<a href="#原理图" class="hash-link" aria-label="原理图的直接链接" title="原理图的直接链接">​</a></h3>
<p>TRNG 属于RP2350A内部资源，通过软件设置好就可以了。本实验通过配合按键获取随机数和通过LCD显示。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="程序设计">程序设计<a href="#程序设计" class="hash-link" aria-label="程序设计的直接链接" title="程序设计的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trng函数解析">TRNG函数解析<a href="#trng函数解析" class="hash-link" aria-label="TRNG函数解析的直接链接" title="TRNG函数解析的直接链接">​</a></h3>
<p>PICO-SDK提供了丰富的TRNG接口函数，开发者可以在<code>pico-sdk\src\rp2_common\pico_rand</code>路径下找到相关的rand.c和rand.h文件。在rand.h头文件中，你可以找到RP2350A的所有SPI函数定义。接下来，作者将介绍一些常用的SPI函数，这些函数的描述及其作用如下：</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="获取随机数">获取随机数<a href="#获取随机数" class="hash-link" aria-label="获取随机数的直接链接" title="获取随机数的直接链接">​</a></h4>
<p>该函数的主要功能是获取一个 32 位的随机数,它通过调用 get_rand_64()函数获取一个 64 位的随机数，然后将这个 64 位随机数强制转换为 32 位无符号整数类型并返回。其函数原型如下所示：</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">uint spi_init(spi_inst_t *spi, uint baudrate)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>【参数】</p>
<ol>
<li>无</li>
</ol>
<p>【返回值】</p>
<ol>
<li>将经过类型强制转换后的 32 位随机数作为函数的返回值返回给调用者。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trng驱动解析">TRNG驱动解析<a href="#trng驱动解析" class="hash-link" aria-label="TRNG驱动解析的直接链接" title="TRNG驱动解析的直接链接">​</a></h3>
<p>在SDK版本的13_trng例程中，作者在<code>13_trng\BSP</code>路径下新增了一个TRNG文件夹，用于存放trng.c和trng.h这两个文件。其中，trng.h文件负责声明TRNG相关的函数和变量，trng.c文件则实现了TRNG的驱动代码。下面，我们将详细解析这两个文件的实现内容。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1trngh文件">1，trng.h文件<a href="#1trngh文件" class="hash-link" aria-label="1，trng.h文件的直接链接" title="1，trng.h文件的直接链接">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/* 函数声明 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint32_t trng_get_random_num(void);          /* 得到随机数 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int trng_get_random_range(int min, int max); /* 得到某个范围内的随机数 */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2trngc文件">2，trng.c文件<a href="#2trngc文件" class="hash-link" aria-label="2，trng.c文件的直接链接" title="2，trng.c文件的直接链接">​</a></h4>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @brief       得到随机数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param       无</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @retval      获取到的随机数(32bit)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint32_t trng_get_random_num(void)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32_t randomnum;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    randomnum = get_rand_32();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return randomnum;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @brief       得到某个范围内的随机数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param       min,max: 最小,最大值.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @retval      得到的随机数(rval),满足:min&lt;=rval&lt;=max</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int trng_get_random_range(int min, int max)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32_t randomnum;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    randomnum = get_rand_32();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return randomnum % (max - min + 1) + min;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>从上述代码中，我们不难看出，对于RNG我们并没有相应的初始化函数，RP2350A提供了相应的API函数，我们只需调用即可，具体的在之前的内容里我们已经介绍过了，在此不做出赘述。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cmakeliststxt文件">CMakeLists.txt文件<a href="#cmakeliststxt文件" class="hash-link" aria-label="CMakeLists.txt文件的直接链接" title="CMakeLists.txt文件的直接链接">​</a></h3>
<p>打开本章节的实验（13_trng），在整个工程文件下包含了一个CMakeLists.txt文件。关于该实验的CMakeLists.txt文件的具体内容与上一章节并没有什么太大的不同，因此不再赘述。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实验应用代码">实验应用代码<a href="#实验应用代码" class="hash-link" aria-label="实验应用代码的直接链接" title="实验应用代码的直接链接">​</a></h3>
<p>打开main.c文件，该文件定义了工程入口函数，名为main。该函数代码如下。</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @brief       程序入口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @param       无</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @retval      无</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int main()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t key = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint32_t random = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint8_t t = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stdio_init_all();       /* 初始化标准库 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    led_init();             /* 初始化LED */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    key_init();             /* 初始化KEY */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    spi1_init();            /* 初始化SPI1 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_init();             /* 初始化LCD */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 0, 240, 32, 32, &quot;RP2350A&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 33, 240, 24, 24, &quot;TRNG TEST&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 60, 240, 16, 16, &quot;ATOM@ALIENTEK&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 78, 200, 16, 16, &quot;KEY1:Get Random Num&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 93, 200, 16, 16, &quot;Random Num:&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lcd_show_string(0, 108, 200, 16, 16, &quot;Random Num[0-9]:&quot;, RED);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    while(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key = key_scan(0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (key == KEY1_PRES)    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            random = trng_get_random_num();                      /* 获取随机数 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lcd_show_num(118, 93, random, 10, 16, BLUE);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ((t % 20) == 0)                                      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        {                                             </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            random = trng_get_random_range(0, 9);                /* 取[0,9]区间的随机数 */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            lcd_show_num(158, 108, random, 1, 16, BLUE);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            LED_TOGGLE(); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sleep_ms(10);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        t++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>该部分代码也比较简单，在所有外设初始化成功后，进入死循环，等待KEY1按键按下，如果按下，则调用 trng_get_random_num 函数，读取随机数值，并将读到的随机数显示在 LCD 上面。每隔 200ms 获取一次区间[0,9]的随机数，并实时显示在液晶上。同时 LED，周期性闪烁，400ms 闪烁一次。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="下载验证">下载验证<a href="#下载验证" class="hash-link" aria-label="下载验证的直接链接" title="下载验证的直接链接">​</a></h2>
<p>程序下载到开发板后，可以看到 LED 不停的闪烁，提示程序已经在运行了。然后我们按下 KEY1，就可以在屏幕上看到获取到的随机数。同时，就算不按 KEY1，程序也会自动的获取 0~9区间的随机数显示在 LCD 上面。实验结果如下图所示：</p>
<p><img decoding="async" loading="lazy" alt="01" src="data:image/png;base64,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" width="234" height="129" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/rtc"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">RTC实验</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Boards/RaspberryPi/DNRP2350A/set-up-development-environment/example-sdk/sd_card"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">SPI_SDCARD实验</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#前言" class="table-of-contents__link toc-highlight">前言</a></li><li><a href="#随机数发生器简介" class="table-of-contents__link toc-highlight">随机数发生器简介</a><ul><li><a href="#1trng-简介" class="table-of-contents__link toc-highlight">1，TRNG 简介</a></li></ul></li><li><a href="#硬件设计" class="table-of-contents__link toc-highlight">硬件设计</a><ul><li><a href="#例程功能" class="table-of-contents__link toc-highlight">例程功能</a></li><li><a href="#硬件资源" class="table-of-contents__link toc-highlight">硬件资源</a></li><li><a href="#原理图" class="table-of-contents__link toc-highlight">原理图</a></li></ul></li><li><a href="#程序设计" class="table-of-contents__link toc-highlight">程序设计</a><ul><li><a href="#trng函数解析" class="table-of-contents__link toc-highlight">TRNG函数解析</a></li><li><a href="#trng驱动解析" class="table-of-contents__link toc-highlight">TRNG驱动解析</a></li><li><a href="#cmakeliststxt文件" class="table-of-contents__link toc-highlight">CMakeLists.txt文件</a></li><li><a href="#实验应用代码" class="table-of-contents__link toc-highlight">实验应用代码</a></li></ul></li><li><a href="#下载验证" class="table-of-contents__link toc-highlight">下载验证</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://www.openedv.com/docs/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">资料下载中心<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="http://www.openedv.com/forum.php/" target="_blank" rel="noopener noreferrer" class="footer__link-item">开源电子网<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/openedv" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://zhengdianyuanzi.tmall.com/index.htm" target="_blank" rel="noopener noreferrer" class="footer__link-item">天猫<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://mall.jd.com/index-12003110.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">京东<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 ALIENTEK, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>